[{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"id_9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright [yyyy] [name of copyright owner]  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Marti Catala. Author, maintainer. Mike Du. Author. Yuchen Guo. Author. Edward Burn. Contributor. Xintong Li. Contributor.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Catala M, Du M, Guo Y (2023). DrugUtilisation: Summarise patient-level drug utilisation data mapped OMOP Common Data Model. R package version 0.2.0, https://darwin-eu-dev.github.io/DrugUtilisation/.","code":"@Manual{,   title = {DrugUtilisation: Summarise patient-level drug utilisation in data mapped to the OMOP Common Data Model},   author = {Marti Catala and Mike Du and Yuchen Guo},   year = {2023},   note = {R package version 0.2.0},   url = {https://darwin-eu-dev.github.io/DrugUtilisation/}, }"},{"path":[]},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"warning-this-package-is-under-development","dir":"","previous_headings":"","what":"WARNING: This package is under development.","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"addDailyDose function works following patterns drug_strength table:","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"package-overview","dir":"","previous_headings":"","what":"Package overview","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"DrugUtilisation contains functions instantiate characterize cohorts used Drug Utilisation Study OMOP common data model. Main functionalities : Create DrugUsilisation cohorts Add indications cohort Add dosage certain ingredient (subseted list drugs) Calculate daily dose Create Concept based cohorts Read concepts json files Summarise drug use certain cohort Summarise indications certain cohort Summarise patients characteristics certain cohort Summarise patients large scale characterics certain cohort","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"package-installation","dir":"","previous_headings":"","what":"Package installation","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can install version DrugUtilisation using following command: working DrugUtilisation, use CDMConnector manage connection database. don´t already installed can install CRAN.","code":"install.packages(\"remotes\") remotes::install_github(\"darwin-eu-dev/DrugUtilisation\") install.packages(\"CDMConnector\")"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"First, need create cdm reference data ´ll using. ´ll generate example simulated data, see set database please consult CDMConnector package connection examples. package also provides functionality generate mockDrugUtilisation cdm reference:","code":"library(DrugUtilisation) cdm <- mockDrugUtilisation(numberIndividual = 100)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"create-a-cohort-of-drug-use","dir":"","previous_headings":"Example","what":"Create a cohort of drug use","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"create cohort need conceptList, can read json files: can build list using packages (e.g. CodelistGenerator) generate cohort drug use use generateDrugUtilisationCohortSet:","code":"conceptList <- readConceptList(here::here(\"Concepts\"), cdm) library(CodelistGenerator) #> Warning: package 'CodelistGenerator' was built under R version 4.2.3 conceptList <- getDrugIngredientCodes(cdm, \"acetaminophen\") conceptList #> $`Ingredient: acetaminophen (1125315)` #> [1]  1125315 43135274  2905077  1125360 cdm <- generateDrugUtilisationCohortSet(   cdm = cdm,   name = \"dus_cohort\",   conceptSetList = conceptList,   summariseMode = \"FirstEra\",    daysPriorHistory = 365,   gapEra = 30,   priorUseWashout = 0,   imputeDuration = \"eliminate\",    durationRange = c(0, Inf) )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"cohort-attributes","dir":"","previous_headings":"Example > Create a cohort of drug use","what":"Cohort attributes","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"generated cohort GeneratedCohortSet seen CDMConnector Cohort set: Cohort count: Cohort attrition:","code":"class(cdm$dus_cohort) #> [1] \"GeneratedCohortSet\"    \"tbl_duckdb_connection\" \"tbl_dbi\"               #> [4] \"tbl_sql\"               \"tbl_lazy\"              \"tbl\" library(CDMConnector) library(dplyr) #> Warning: package 'dplyr' was built under R version 4.2.3 #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union cohortSet(cdm$dus_cohort) %>% glimpse() #> Rows: 1 #> Columns: 12 #> $ cohort_definition_id    <int> 1 #> $ cohort_name             <chr> \"Ingredient: acetaminophen (1125315)\" #> $ summarise_mode          <chr> \"FirstEra\" #> $ fixed_time              <dbl> NA #> $ days_prior_history      <dbl> 365 #> $ gap_era                 <dbl> 30 #> $ prior_use_washout       <dbl> 0 #> $ cohort_date_range_start <date> NA #> $ cohort_date_range_end   <date> NA #> $ impute_duration         <chr> \"eliminate\" #> $ duration_range_min      <dbl> 0 #> $ duration_range_max      <dbl> Inf cohortCount(cdm$dus_cohort) #> # A tibble: 1 × 3 #>   cohort_definition_id number_records number_subjects #>                  <int>          <dbl>           <dbl> #> 1                    1             46              46 cohortAttrition(cdm$dus_cohort) %>% glimpse() #> Rows: 8 #> Columns: 7 #> $ cohort_definition_id <int> 1, 1, 1, 1, 1, 1, 1, 1 #> $ number_records       <dbl> 109, 109, 83, 52, 52, 52, 52, 46 #> $ number_subjects      <dbl> 69, 69, 69, 46, 46, 46, 46, 46 #> $ reason_id            <dbl> 1, 2, 3, 4, 5, 6, 7, 8 #> $ reason               <chr> \"Qualifying initial records\", \"Duration imputatio… #> $ excluded_records     <dbl> 0, 0, 26, 31, 0, 0, 0, 6 #> $ excluded_subjects    <dbl> 0, 0, 0, 23, 0, 0, 0, 0"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"indication","dir":"","previous_headings":"Example","what":"Indication","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"Indications always cohorts. option package create concept based cohorts using generateConceptCohortSet. can add indication using function addIndication. add new column indication gap. Indications non exclusive person can multiple indications. Multiple indications separated && symbol:","code":"indications <- list(headache = 378253, influenza = 4266367) cdm <- generateConceptCohortSet(cdm, \"indications_cohort\", indications) cohortCount(cdm$indications_cohort) #> # A tibble: 2 × 3 #>   cohort_definition_id number_records number_subjects #>                  <int>          <dbl>           <dbl> #> 1                    1             71              59 #> 2                    2             59              52 x <- cdm$dus_cohort %>%   addIndication(cdm, \"indications_cohort\", c(0, 30, 365), c(\"condition_occurrence\")) glimpse(x) #> Rows: ?? #> Columns: 7 #> Database: DuckDB 0.7.1 [martics@Windows 10 x64:R 4.2.1/:memory:] #> $ cohort_definition_id <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1… #> $ subject_id           <dbl> 37, 61, 81, 84, 60, 47, 70, 90, 96, 75, 93, 46, 6… #> $ cohort_start_date    <date> 2005-02-07, 2019-01-22, 1995-09-13, 2011-03-13, … #> $ cohort_end_date      <date> 2005-04-15, 2019-03-27, 1997-11-17, 2013-04-26, … #> $ indication_gap_0     <chr> \"no indication\", \"no indication\", \"no indication\"… #> $ indication_gap_30    <chr> \"no indication\", \"no indication\", \"no indication\"… #> $ indication_gap_365   <chr> \"no indication\", \"no indication\", \"no indication\"… table(x %>% pull(\"indication_gap_0\")) #>  #> no indication  #>            46 table(x %>% pull(\"indication_gap_30\")) #>  #> no indication  #>            46 table(x %>% pull(\"indication_gap_365\")) #>  #>            headache           influenza influenza&&headache       no indication  #>                   1                   4                   1                  35  #>  unknown indication  #>                   5"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"summarise-the-indication","dir":"","previous_headings":"Example","what":"Summarise the indication","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can summarise indication results using summariseIndication function:","code":"summariseIndication(x, cdm) #> # A tibble: 6 × 10 #>   cohort_name      strata_name strata_level indication_gap indication_name count #>   <chr>            <chr>       <chr>                 <dbl> <chr>           <chr> #> 1 Ingredient: ace… overall     <NA>                      0 no indication   \"46\"  #> 2 Ingredient: ace… overall     <NA>                     30 no indication   \"46\"  #> 3 Ingredient: ace… overall     <NA>                    365 headache        \"<5\"  #> 4 Ingredient: ace… overall     <NA>                    365 influenza       \" 5\"  #> 5 Ingredient: ace… overall     <NA>                    365 no indication   \"35\"  #> 6 Ingredient: ace… overall     <NA>                    365 unknown indica… \" 5\"  #> # ℹ 4 more variables: denominator <chr>, `%` <chr>, cdm_name <chr>, #> #   generated_by <chr> summariseIndication(x, cdm) %>% glimpse() #> Rows: 6 #> Columns: 10 #> $ cohort_name     <chr> \"Ingredient: acetaminophen (1125315)\", \"Ingredient: ac… #> $ strata_name     <chr> \"overall\", \"overall\", \"overall\", \"overall\", \"overall\",… #> $ strata_level    <chr> NA, NA, NA, NA, NA, NA #> $ indication_gap  <dbl> 0, 30, 365, 365, 365, 365 #> $ indication_name <chr> \"no indication\", \"no indication\", \"headache\", \"influen… #> $ count           <chr> \"46\", \"46\", \"<5\", \" 5\", \"35\", \" 5\" #> $ denominator     <chr> \"46\", \"46\", \"46\", \"46\", \"46\", \"46\" #> $ `%`             <chr> \"100%\", \"100%\", \" 4.35%\", \"10.87%\", \"76.09%\", \"10.87%\" #> $ cdm_name        <chr> NA, NA, NA, NA, NA, NA #> $ generated_by    <chr> \"DrugUtilisation_v0.2.0_summariseIndication\", \"DrugUti…"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"add-strata","dir":"","previous_headings":"Example","what":"Add strata","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"summarise functions option add strata. Strata always point preexisting columns. can see example create age_group sex columns using PatientProfiles use strata","code":"library(PatientProfiles) x <- x %>%   addAge(cdm, ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150))) %>%   addSex(cdm) summariseIndication(x, cdm, strata = list(\"age\" = \"age_group\", \"sex\" = \"sex\", \"age & sex\" = c(\"age_group\", \"sex\"))) #> # A tibble: 84 × 10 #>    cohort_name     strata_name strata_level indication_gap indication_name count #>    <chr>           <chr>       <chr>                 <dbl> <chr>           <chr> #>  1 Ingredient: ac… age         0 to 19                   0 no indication   <NA>  #>  2 Ingredient: ac… age         0 to 19                  30 no indication   <NA>  #>  3 Ingredient: ac… age         0 to 19                 365 influenza       <NA>  #>  4 Ingredient: ac… age         0 to 19                 365 no indication   <NA>  #>  5 Ingredient: ac… age         0 to 19                 365 unknown indica… <NA>  #>  6 Ingredient: ac… age         0 to 19                 365 headache        <NA>  #>  7 Ingredient: ac… age         20 to 39                  0 no indication   <NA>  #>  8 Ingredient: ac… age         20 to 39                 30 no indication   <NA>  #>  9 Ingredient: ac… age         20 to 39                365 headache        <NA>  #> 10 Ingredient: ac… age         20 to 39                365 influenza       <NA>  #> # ℹ 74 more rows #> # ℹ 4 more variables: denominator <chr>, `%` <chr>, cdm_name <chr>, #> #   generated_by <chr> summariseIndication(x, cdm, strata = list(\"age\" = \"age_group\", \"sex\" = \"sex\", \"age & sex\" = c(\"age_group\", \"sex\"))) %>% glimpse() #> Rows: 84 #> Columns: 10 #> $ cohort_name     <chr> \"Ingredient: acetaminophen (1125315)\", \"Ingredient: ac… #> $ strata_name     <chr> \"age\", \"age\", \"age\", \"age\", \"age\", \"age\", \"age\", \"age\"… #> $ strata_level    <chr> \"0 to 19\", \"0 to 19\", \"0 to 19\", \"0 to 19\", \"0 to 19\",… #> $ indication_gap  <dbl> 0, 30, 365, 365, 365, 365, 0, 30, 365, 365, 365, 365, … #> $ indication_name <chr> \"no indication\", \"no indication\", \"influenza\", \"no ind… #> $ count           <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"<5\", … #> $ denominator     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"<5\", … #> $ `%`             <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, \"100%\"… #> $ cdm_name        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… #> $ generated_by    <chr> \"DrugUtilisation_v0.2.0_summariseIndication\", \"DrugUti…"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"daily-dose","dir":"","previous_headings":"Example","what":"Daily dose","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can compute daily dose certain ingredient subset drug_exposure whole drug exposure (can computationally expensive).","code":"#cdm$drug_exposure %>% #  addDailyDose(cdm, ingredientConceptId = 1125315) %>% #  glimpse()"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"coverage","dir":"","previous_headings":"Example > Daily dose","what":"Coverage","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"Currently can evaluate coverage daily dose conceptList overall using dailyDoseCoverage. can restrict certain ingredient, otherwise result stratified ingredient.","code":"#dailyDoseCoverage(cdm = cdm, sample = NULL, ingredient = NULL, conceptList = NULL)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"druguse","dir":"","previous_headings":"Example","what":"DrugUse","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can add columns related drug use using addDrugUse. always provide reference ingredient.","code":"#x <- x %>% #  addDrugUse( #    cdm = cdm, #    ingredientConceptId = 1125315, #    initialDailyDose = TRUE, #    numberExposures = TRUE, #    duration = TRUE, #    cumulativeDose = TRUE, #    numberEras = TRUE #  )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"summarise-the-drug-use","dir":"","previous_headings":"Example","what":"Summarise the drug use","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can summarise drug use using summariseDrugUse function","code":"#summariseDrugUse(x, cdm)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"summarise-patient-characteristics","dir":"","previous_headings":"Example","what":"Summarise patient characteristics","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can summarise patient characteristics summariseTableOne function:","code":"summariseTableOne(   x, cdm, ageGroup = list(c(0, 24), c(25, 49), c(50, 74), c(75, 150)),   windowVisitOcurrence = c(-365, 0),   covariates = list(\"indications_cohort\" = c(-365, 0)) ) #> # A tibble: 34 × 9 #>    cohort_name strata_name strata_level variable variable_classificat…¹ estimate #>    <chr>       <chr>       <chr>        <chr>    <chr>                  <chr>    #>  1 Ingredient… overall     <NA>         number … <NA>                   count    #>  2 Ingredient… overall     <NA>         number … <NA>                   count    #>  3 Ingredient… overall     <NA>         age      numeric                median   #>  4 Ingredient… overall     <NA>         age      numeric                q25      #>  5 Ingredient… overall     <NA>         age      numeric                q75      #>  6 Ingredient… overall     <NA>         future_… numeric                median   #>  7 Ingredient… overall     <NA>         future_… numeric                q25      #>  8 Ingredient… overall     <NA>         future_… numeric                q75      #>  9 Ingredient… overall     <NA>         prior_h… numeric                median   #> 10 Ingredient… overall     <NA>         prior_h… numeric                q25      #> # ℹ 24 more rows #> # ℹ abbreviated name: ¹​variable_classification #> # ℹ 3 more variables: value <chr>, cdm_name <chr>, generated_by <chr>"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"summarise-patients-large-scale-characteristics","dir":"","previous_headings":"Example","what":"Summarise patients large scale characteristics","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"can summarise patient characteristics summariseTableOne function:","code":"summariseLargeScaleCharacteristics(   x, cdm, tablesToCharacterize = c(\"drug_exposure\", \"condition_occurrence\") ) #> # A tibble: 124 × 12 #>    cohort_name        strata_name strata_level table_name window_name concept_id #>    <chr>              <chr>       <chr>        <chr>      <chr>            <dbl> #>  1 Ingredient: aceta… overall     <NA>         condition… -inf to -3…     317009 #>  2 Ingredient: aceta… overall     <NA>         condition… -inf to -3…     378253 #>  3 Ingredient: aceta… overall     <NA>         condition… -inf to -3…    4266367 #>  4 Ingredient: aceta… overall     <NA>         condition… -365 to -91     317009 #>  5 Ingredient: aceta… overall     <NA>         condition… -365 to -91     378253 #>  6 Ingredient: aceta… overall     <NA>         condition… -365 to -91    4266367 #>  7 Ingredient: aceta… overall     <NA>         condition… -365 to -31     317009 #>  8 Ingredient: aceta… overall     <NA>         condition… -365 to -31     378253 #>  9 Ingredient: aceta… overall     <NA>         condition… -365 to -31    4266367 #> 10 Ingredient: aceta… overall     <NA>         condition… -90 to -1       317009 #> # ℹ 114 more rows #> # ℹ 6 more variables: concept_name <chr>, count <chr>, denominator_count <chr>, #> #   `%` <dbl>, cdm_name <chr>, generated_by <chr>"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/index.html","id":"reportgenerator","dir":"","previous_headings":"","what":"ReportGenerator","title":"Summarise patient-level drug utilisation in data mapped to the OMOP \n    Common Data Model ","text":"package included ReportGenerator environment. See exortable elements:","code":"DrugUtilisation::ReportGenerator"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/DrugUtilisation-package.html","id":null,"dir":"Reference","previous_headings":"","what":"DrugUtilisation: Summarise patient-level drug utilisation in data mapped to the OMOP Common Data Model — DrugUtilisation-package","title":"DrugUtilisation: Summarise patient-level drug utilisation in data mapped to the OMOP Common Data Model — DrugUtilisation-package","text":"Summarise patient-level drug utilisation data mapped OMOP Common Data Model.","code":""},{"path":[]},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/DrugUtilisation-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"DrugUtilisation: Summarise patient-level drug utilisation in data mapped to the OMOP Common Data Model — DrugUtilisation-package","text":"Maintainer: Marti Catala marti.catalasabate@ndorms.ox.ac.uk (ORCID) Authors: Mike Du mike.du@ndorms.ox.ac.uk (ORCID) Yuchen Guo yuchen.guo@ndorms.ox.ac.uk (ORCID) contributors: Edward Burn edward.burn@ndorms.ox.ac.uk (ORCID) [contributor] Xintong Li xintong.li@ndorms.ox.ac.uk (ORCID) [contributor]","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDailyDose.html","id":null,"dir":"Reference","previous_headings":"","what":"add daily dose information to a drug_exposure table — addDailyDose","title":"add daily dose information to a drug_exposure table — addDailyDose","text":"add daily dose information drug_exposure table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDailyDose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add daily dose information to a drug_exposure table — addDailyDose","text":"","code":"addDailyDose(drugExposure, cdm, ingredientConceptId)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDailyDose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add daily dose information to a drug_exposure table — addDailyDose","text":"drugExposure drugExposure must contain drug_concept_id, quantity, drug_exposure_start_date drug_exposure_end_date columns cdm cdm ingredientConceptId ingredientConceptId filter drugs interest","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDailyDose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add daily dose information to a drug_exposure table — addDailyDose","text":"input table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDailyDose.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"add daily dose information to a drug_exposure table — addDailyDose","text":"","code":"# \\donttest{ library(DrugUtilisation) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  cdm <- mockDrugUtilisation()  cdm$drug_exposure %>%   filter(drug_concept_id == 2905077) %>%   addDailyDose(cdm, 1125315) #> # Source:   table<dbplyr_003> [4 x 9] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>   drug_exposure_id person_id drug_concept_id drug_exposure_start_date #>              <int>     <int>           <dbl> <date>                   #> 1                3         2         2905077 2022-06-06               #> 2               20         7         2905077 2018-05-21               #> 3               23         7         2905077 2017-07-11               #> 4               35        10         2905077 2003-08-02               #> # ℹ 5 more variables: drug_exposure_end_date <date>, #> #   drug_type_concept_id <dbl>, quantity <dbl>, daily_dose <dbl>, unit <chr> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDrugUse.html","id":null,"dir":"Reference","previous_headings":"","what":"Add new columns with dose related information to the cohort — addDrugUse","title":"Add new columns with dose related information to the cohort — addDrugUse","text":"Add new columns dose related information cohort","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDrugUse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add new columns with dose related information to the cohort — addDrugUse","text":"","code":"addDrugUse(   cohort,   cdm,   ingredientConceptId,   conceptSetList = NULL,   initialDailyDose = TRUE,   numberExposures = TRUE,   duration = TRUE,   cumulativeDose = TRUE,   numberEras = TRUE,   supplementary = FALSE,   gapEra = 30,   eraJoinMode = \"Zero\",   overlapMode = \"Sum\",   sameIndexMode = \"Sum\",   imputeDuration = \"eliminate\",   imputeDailyDose = \"eliminate\",   durationRange = c(1, Inf),   dailyDoseRange = c(0, Inf) )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDrugUse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add new columns with dose related information to the cohort — addDrugUse","text":"cohort Cohort cdm cdm cdm_reference created CDMConnector::cdmFromCon ingredientConceptId Ingredient OMOP concept interested study. compulsory input, default value provided. conceptSetList List concepts included. NULL descendants ingredient concept id used. default: NULL. initialDailyDose Whether initial dose displayed numberExposures Whether number exposures displayed duration Whether duration displayed cumulativeDose Whether cumulative dose displayed numberEras Whether number eras displayed supplementary Whether supplementary variables displayed gapEra Number days two continuous exposures considered era. default: 180. eraJoinMode two different continuous exposures joined era. four options: \"Zero\" exposures joined considering period continuous exposures subject treated daily dose zero. time exposures contributes total exposed time. \"Join\" exposures joined considering period continuous exposures subject treated daily dose zero. time exposures contribute total exposed time. \"Previous\" exposures joined considering period continuous exposures subject treated daily dose previous subexposure. time exposures contributes total exposed time. \"Subsequent\" exposures joined considering period continuous exposures subject treated daily dose subsequent subexposure. time exposures contributes total exposed time. default: \"Previous\". overlapMode overlapping two exposures start day solved inside subexposure. five possible options: \"Previous\" considered daily_dose one earliest exposure. \"Subsequent\" considered daily_dose one new exposure starts subexposure. \"Minimum\" considered daily_dose minimum exposures subexposure. \"Maximum\" considered daily_dose maximum exposures subexposure. \"Sum\" considered daily_dose sum exposures present subexposure. default: \"Previous\". sameIndexMode overlapping two exposures start day solved inside subexposure. five possible options: \"Minimum\" considered daily_dose minimum exposures subexposure. \"Maximum\" considered daily_dose maximum exposures subexposure. \"Sum\" considered daily_dose sum exposures present subexposure. default: \"Sum\". imputeDuration Whether/duration imputed \"eliminate\", \"median\", \"mean\", \"quantile25\", \"quantile75\". . default: eliminate imputeDailyDose Whether/daily_dose imputed \"eliminate\", \"median\", \"mean\", \"quantile25\", \"quantile75\". default: \"eliminate\" durationRange Range duration must comprised. numeric vector length two, NAs first value equal smaller second one. required imputeDuration = TRUE. NULL restrictions applied. default: NULL. dailyDoseRange Range daily_dose must comprised. numeric vector length two, NAs first value equal smaller second one. required imputeDailyDose = TRUE. NULL restrictions applied. default: NULL.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDrugUse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add new columns with dose related information to the cohort — addDrugUse","text":"function returns dose information individuals dusCohortName.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addDrugUse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add new columns with dose related information to the cohort — addDrugUse","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CodelistGenerator)  cdm <- mockDrugUtilisation() cdm <- generateDrugUtilisationCohortSet(   cdm, \"dus_cohort\", getDrugIngredientCodes(cdm, \"acetaminophen\") ) cdm$dus_cohort %>%   addDrugUse(cdm, 1125315) #> # Source:   table<dbplyr_044> [?? x 9] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <dbl> <date>            <date>          #>  1                    1          5 2020-05-08        2020-05-08      #>  2                    1         10 2004-12-17        2005-08-12      #>  3                    1          1 2021-02-25        2021-03-11      #>  4                    1          7 2016-02-01        2017-02-03      #>  5                    1          8 2012-02-15        2012-02-17      #>  6                    1          3 2009-04-18        2009-11-07      #>  7                    1          6 1990-03-07        1991-11-24      #>  8                    1          4 2021-05-05        2021-12-15      #>  9                    1          5 2017-08-29        2019-12-14      #> 10                    1         10 2003-08-02        2004-05-06      #> # ℹ more rows #> # ℹ 5 more variables: initial_daily_dose <dbl>, number_exposures <dbl>, #> #   duration <dbl>, cumulative_dose <dbl>, number_eras <dbl> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addIndication.html","id":null,"dir":"Reference","previous_headings":"","what":"Get indication for a target cohort — addIndication","title":"Get indication for a target cohort — addIndication","text":"Get indication target cohort","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addIndication.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get indication for a target cohort — addIndication","text":"","code":"addIndication(   x,   cdm,   indicationCohortName,   indicationGap = 0,   unknownIndicationTable = c(\"condition_occurrence\", \"observation\"),   indicationDate = \"cohort_start_date\" )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addIndication.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get indication for a target cohort — addIndication","text":"x Table cdm cdm cdm reference created using CDMConnector indicationCohortName Name indication cohort table indicationGap Gap event indication unknownIndicationTable Tables search unknown indications indicationDate Date indication","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addIndication.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get indication for a target cohort — addIndication","text":"cohort adding indications","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addIndication.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get indication for a target cohort — addIndication","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CodelistGenerator)  cdm <- mockDrugUtilisation()  indications <- list(\"headache\" = 378253, \"asthma\" = 317009) cdm <- generateConceptCohortSet(cdm, \"indication_cohorts\", indications)  acetaminophen <- getDrugIngredientCodes(cdm, \"acetaminophen\") cdm <- generateDrugUtilisationCohortSet(cdm, \"drug_cohort\", acetaminophen)  cdm$drug_cohort %>%   addIndication(cdm, \"indication_cohorts\", indicationGap = c(0, 30, 365)) #> # Source:   table<dbplyr_106> [?? x 16] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>    cohort_definition_id subject_id cohort_start_date cohort_end_date #>                   <int>      <dbl> <date>            <date>          #>  1                    1          7 2017-07-11        2017-10-04      #>  2                    1          7 2018-05-21        2018-07-20      #>  3                    1          5 2020-05-08        2020-05-08      #>  4                    1         10 2004-12-17        2005-08-12      #>  5                    1          1 2021-02-25        2021-03-11      #>  6                    1          7 2016-02-01        2017-02-03      #>  7                    1          3 2009-04-18        2009-11-07      #>  8                    1          6 1990-03-07        1991-11-24      #>  9                    1          4 2021-05-05        2021-12-15      #> 10                    1          5 2017-08-29        2019-12-14      #> # ℹ more rows #> # ℹ 12 more variables: indication_gap_0_asthma <dbl>, #> #   indication_gap_0_headache <dbl>, indication_gap_0_none <dbl>, #> #   indication_gap_30_asthma <dbl>, indication_gap_30_headache <dbl>, #> #   indication_gap_30_none <dbl>, indication_gap_365_asthma <dbl>, #> #   indication_gap_365_headache <dbl>, indication_gap_365_none <dbl>, #> #   indication_gap_0_unknown <dbl>, indication_gap_30_unknown <dbl>, … # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addPattern.html","id":null,"dir":"Reference","previous_headings":"","what":"add pattern info to a table containing drug_strength information — addPattern","title":"add pattern info to a table containing drug_strength information — addPattern","text":"add pattern info table containing drug_strength information","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addPattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"add pattern info to a table containing drug_strength information — addPattern","text":"","code":"addPattern(drugList, cdm, ingredientConceptId)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addPattern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"add pattern info to a table containing drug_strength information — addPattern","text":"drugList Table cdm contain drug_concept_id cdm cdm_reference ingredientConceptId ingredientConceptId","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addPattern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"add pattern info to a table containing drug_strength information — addPattern","text":"adds pattern_id unit current table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/addPattern.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"add pattern info to a table containing drug_strength information — addPattern","text":"","code":"# \\donttest{ library(DrugUtilisation) library(dplyr)  cdm <- mockDrugUtilisation()  cdm$drug_exposure %>%   addPattern(cdm, 1125315) #> # Source:   table<dbplyr_108> [?? x 9] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>    drug_exposure_id person_id drug_concept_id drug_exposure_start_date #>               <int>     <int>           <dbl> <date>                   #>  1               36        10        43135274 2003-12-24               #>  2               35        10         2905077 2003-08-02               #>  3               34        10         1125360 2004-12-17               #>  4               26         8        43135274 2012-02-15               #>  5               23         7         2905077 2017-07-11               #>  6               19         6         1125360 1991-01-28               #>  7               21         7        43135274 2016-02-01               #>  8               20         7         2905077 2018-05-21               #>  9               18         6         1125360 1990-03-07               #> 10               11         4        43135274 2021-05-05               #> # ℹ more rows #> # ℹ 5 more variables: drug_exposure_end_date <date>, #> #   drug_type_concept_id <dbl>, quantity <dbl>, pattern_id <dbl>, unit <chr>  cdm$concept %>%   filter(domain_id == \"Drug\") %>%   select(drug_concept_id = concept_id) %>%   addPattern(cdm, 1125315) #> # Source:   table<dbplyr_110> [?? x 3] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>    drug_concept_id pattern_id unit      #>              <dbl>      <dbl> <chr>     #>  1        43135274          4 milligram #>  2         1125315         NA NA        #>  3         2905077         NA NA        #>  4         1125360          4 milligram #>  5         1539463         NA NA        #>  6         1503328         NA NA        #>  7         1516980         NA NA        #>  8         1539403         NA NA        #>  9         1516976         NA NA        #> 10         1503327         NA NA        #> # ℹ more rows # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortAttrition.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","title":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","text":"Add line attrition table. table exist created","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortAttrition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","text":"","code":"computeCohortAttrition(   x,   cdm,   attrition = NULL,   reason = \"Qualifying initial records\" )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortAttrition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","text":"x table cdm lest: 'cohort_definition_id' subject_id' cdm cdm reference created using CDMConnector attrition attrition table. NULL new attrition table created. reason character name reason.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortAttrition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","text":"Reference table cohort attrition","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortAttrition.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a line in the attrition table. If the table does not exist it is created — computeCohortAttrition","text":"","code":"# \\donttest{ library(DrugUtilisation) library(dplyr) library(PatientProfiles)  cdm <- mockDrugUtilisation()  cdm$new_cohort <- cdm$observation_period %>%   mutate(cohort_definition_id = 1) %>%   select(     cohort_definition_id, subject_id = person_id,     cohort_start_date = observation_period_start_date,     cohort_end_date = observation_period_end_date   ) %>%   compute()  attrition <- computeCohortAttrition(cdm$new_cohort, cdm)  cdm$new_cohort <- cdm$new_cohort %>%   addSex(cdm = cdm) %>%   filter(sex == \"Female\") %>%   select(-\"sex\") %>%   compute()  attrition <- computeCohortAttrition(   cdm$new_cohort, cdm, attrition, \"Exclude males\" )  print(attrition) #> # Source:   table<dbplyr_115> [2 x 7] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>   cohort_definition_id number_records number_subjects reason_id reason           #>                  <dbl>          <dbl>           <dbl>     <dbl> <chr>            #> 1                    1             10              10         1 Qualifying init… #> 2                    1              4               4         2 Exclude males    #> # ℹ 2 more variables: excluded_records <dbl>, excluded_subjects <dbl> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes the cohortCount attribute for a certain table — computeCohortCount","title":"Computes the cohortCount attribute for a certain table — computeCohortCount","text":"Computes cohortCount attribute certain table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes the cohortCount attribute for a certain table — computeCohortCount","text":"","code":"computeCohortCount(x, cdm)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes the cohortCount attribute for a certain table — computeCohortCount","text":"x table cdm lest: 'cohort_definition_id' subject_id' cdm cdm_reference object","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes the cohortCount attribute for a certain table — computeCohortCount","text":"reference table database cohortCount","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/computeCohortCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Computes the cohortCount attribute for a certain table — computeCohortCount","text":"","code":"# \\donttest{ library(DrugUtilisation) library(dplyr) library(PatientProfiles)  cdm <- mockDrugUtilisation()  cdm$new_cohort <- cdm$observation_period %>%   mutate(cohort_definition_id = 1) %>%   addSex(cdm = cdm) %>%   filter(sex == \"Female\") %>%   select(     cohort_definition_id, subject_id = person_id,     cohort_start_date = observation_period_start_date,     cohort_end_date = observation_period_end_date   ) %>%   compute()  cohortCountRef <- computeCohortCount(cdm$new_cohort, cdm)  print(cohortCountRef) #> # Source:   table<dbplyr_118> [1 x 3] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>   cohort_definition_id number_records number_subjects #>                  <dbl>          <dbl>           <dbl> #> 1                    1              4               4 # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/dailyDoseCoverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","title":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","text":"Check coverage daily dose computation sample cdm selected concept sets ingredient","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/dailyDoseCoverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","text":"","code":"dailyDoseCoverage(   cdm,   ingredientConceptId,   sample = NULL,   conceptSetList = NULL,   stratifyByConcept = TRUE,   seed = 1 )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/dailyDoseCoverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","text":"cdm cdm reference created using CDMConnector ingredientConceptId Code indicating ingredient interest sample number indicating size random sample take 'person' table cdm conceptSetList concept list want test stratifyByConcept Whether stratify result drug_concept_id seed Seed random sample","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/dailyDoseCoverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","text":"function returns information coverage computeDailyDose.R selected ingredients concept sets","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/dailyDoseCoverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check coverage of daily dose computation in a sample of the cdm for selected\nconcept sets and ingredient — dailyDoseCoverage","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation() dailyDoseCoverage(cdm, 1125315) #> # A tibble: 4 × 5 #>   concept_set                drug_concept_id number_records number_dose coverage #>   <chr>                                <dbl>          <dbl>       <dbl>    <dbl> #> 1 Ingredient: acetaminophen…              NA             16          12     0.75 #> 2 Ingredient: acetaminophen…         1125360              7           7     1    #> 3 Ingredient: acetaminophen…        43135274              5           5     1    #> 4 Ingredient: acetaminophen…         2905077              4           0     0    # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/drugUseColumns.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain automatically the drug use columns — drugUseColumns","title":"Obtain automatically the drug use columns — drugUseColumns","text":"Obtain automatically drug use columns","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/drugUseColumns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain automatically the drug use columns — drugUseColumns","text":"","code":"drugUseColumns(cohort)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/drugUseColumns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain automatically the drug use columns — drugUseColumns","text":"cohort cohort","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/drugUseColumns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain automatically the drug use columns — drugUseColumns","text":"Name drug use columns","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/drugUseColumns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Obtain automatically the drug use columns — drugUseColumns","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CodelistGenerator)  cdm <- mockDrugUtilisation() cdm <- generateDrugUtilisationCohortSet(   cdm, \"dus\", getDrugIngredientCodes(cdm, \"acetaminophen\") ) #cdm$dus <- cdm$dus %>% #  addDrugUse(cdm, 1125315) #drugUseColumns(cdm$dus) # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateConceptCohortSet.html","id":null,"dir":"Reference","previous_headings":"","what":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","title":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","text":"Generates cohort certain list concepts.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateConceptCohortSet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","text":"","code":"generateConceptCohortSet(   cdm,   name,   conceptSetList,   daysPriorHistory = 0,   gap = 0,   washout = 0,   offset = 0,   cohortDateRange = as.Date(c(NA, NA)) )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateConceptCohortSet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","text":"cdm 'cdm' object created CDMConnector::cdm_from_con(). name Name GeneratedCohortSet. conceptSetList Named list concept sets. daysPriorHistory Minimum number days prior history required incident events. NULL, required veent within observation period. gap Number days two events joined. washout Prior days washout without previous event. offset Number days offset cohort_end_date. cohortDateRange Range cohort_start_date cohort_end_date","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateConceptCohortSet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","text":"function returns 'cdm' object created cohort.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateConceptCohortSet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generates a cohort for a certain list of concepts. — generateConceptCohortSet","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CDMConnector)  cdm <- mockDrugUtilisation()  conditions <- list(\"headache\" = 378253, \"asthma\" = 317009)  cdm <- generateConceptCohortSet(   cdm = cdm,   name = \"covariates\",   conceptSetList = conditions,   daysPriorHistory = 365 )  cdm$covariates #> # Source:   table<main.covariates> [3 x 4] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>   cohort_definition_id subject_id cohort_start_date cohort_end_date #>                  <int>      <dbl> <date>            <date>          #> 1                    2          3 2004-12-01        2010-06-04      #> 2                    2          5 2018-11-08        2018-12-05      #> 3                    2         10 2005-01-23        2005-08-12       cohortSet(cdm$covariates) #> # A tibble: 2 × 8 #>   cohort_definition_id cohort_name days_prior_history   gap washout offset #>                  <int> <chr>                    <dbl> <dbl>   <dbl>  <dbl> #> 1                    1 headache                   365     0       0      0 #> 2                    2 asthma                     365     0       0      0 #> # ℹ 2 more variables: cohort_date_range_start <date>, #> #   cohort_date_range_end <date>  cohortCount(cdm$covariates) #> # A tibble: 1 × 3 #>   cohort_definition_id number_records number_subjects #>                  <int>          <dbl>           <dbl> #> 1                    2              3               3  cohortAttrition(cdm$covariates) #> # A tibble: 7 × 7 #>   cohort_definition_id number_records number_subjects reason_id reason           #>                  <int>          <dbl>           <dbl>     <dbl> <chr>            #> 1                    2              7               5         1 Qualifying init… #> 2                    2              3               3         2 Satisfy daysPri… #> 3                    2              3               3         3 Join records wi… #> 4                    2              3               3         4 Washout applied  #> 5                    2              3               3         5 cohort_start_da… #> 6                    2              3               3         6 cohort_end_date… #> 7                    1              4               4         1 Qualifying init… #> # ℹ 2 more variables: excluded_records <dbl>, excluded_subjects <dbl> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateDrugUtilisationCohortSet.html","id":null,"dir":"Reference","previous_headings":"","what":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","title":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","text":"Generates cohort drug use certain list concepts.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateDrugUtilisationCohortSet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","text":"","code":"generateDrugUtilisationCohortSet(   cdm,   name,   conceptSetList,   summariseMode = \"AllEras\",   fixedTime = NULL,   daysPriorHistory = 0,   gapEra = 30,   priorUseWashout = 0,   cohortDateRange = as.Date(c(NA, NA)),   imputeDuration = \"eliminate\",   durationRange = c(1, Inf) )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateDrugUtilisationCohortSet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","text":"cdm cdm_reference object. name Name GeneratedCohortSet conceptSetList Named list concept sets. summariseMode Choice summarize exposures. three options: \"FixedTime\" individual followed exact number days specified 'fixedTime' argument. \"AllEras\" summarize output summary exposed eras individual. individual can contribute multiple times. \"FirstEra\" consider first observable era individual. case individual can contribute multiple rows. default: \"AllEras\". fixedTime Time period first exposure summarize ingredient interest. Argument considered 'summariseMode' = \"FixedTime\". default value provided. daysPriorHistory Minimum number days prior history (observation time) required incident eras considered. default: 0, meaning observation_period table. Null, check observation_period table. gapEra Number days two continuous exposures considered era. default: 180. priorUseWashout Prior days without exposure. default: NULL. cohortDateRange Range cohort_start_date cohort_end_date imputeDuration Whether/duration imputed \"eliminate\", \"median\", \"mean\", \"quantile25\", \"quantile75\". durationRange Range duration must comprised. numeric vector length two, NAs first value equal smaller second one. required imputeDuration = TRUE. NULL restrictions applied. default: NULL.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateDrugUtilisationCohortSet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","text":"function returns 'cdm' object created tables references object.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/generateDrugUtilisationCohortSet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generates a cohort of the drug use of a certain list of concepts. — generateDrugUtilisationCohortSet","text":"","code":"# \\donttest{ #' library(DrugUtilisation) library(CodelistGenerator) library(CDMConnector)  cdm <- mockDrugUtilisation()  druglist <- getDrugIngredientCodes(cdm, c(\"acetaminophen\", \"metformin\"))  cdm <- generateDrugUtilisationCohortSet(   cdm = cdm,   name = \"drug_cohorts\",   conceptSetList = druglist,   daysPriorHistory = 365 )  cdm$drug_cohorts #> # Source:   table<main.drug_cohorts> [9 x 4] #> # Database: DuckDB 0.8.0 [unknown@Linux 5.15.0-1038-azure:R 4.3.0/:memory:] #>   cohort_definition_id subject_id cohort_start_date cohort_end_date #>                  <int>      <dbl> <date>            <date>          #> 1                    1          7 2018-05-21        2018-07-20      #> 2                    2          3 2005-06-02        2008-05-08      #> 3                    1          5 2020-05-08        2020-05-08      #> 4                    1         10 2004-12-17        2005-08-12      #> 5                    1          7 2017-07-11        2017-10-04      #> 6                    1          3 2009-04-18        2009-11-07      #> 7                    2          3 1994-02-27        1995-08-16      #> 8                    1          5 2017-08-29        2019-12-14      #> 9                    1         10 2003-08-02        2004-05-06       cohortSet(cdm$drug_cohorts) #> # A tibble: 2 × 12 #>   cohort_definition_id cohort_name  summarise_mode fixed_time days_prior_history #>                  <int> <chr>        <chr>               <dbl>              <dbl> #> 1                    1 Ingredient:… AllEras                NA                365 #> 2                    2 Ingredient:… AllEras                NA                365 #> # ℹ 7 more variables: gap_era <dbl>, prior_use_washout <dbl>, #> #   cohort_date_range_start <date>, cohort_date_range_end <date>, #> #   impute_duration <chr>, duration_range_min <dbl>, duration_range_max <dbl>  cohortCount(cdm$drug_cohorts) #> # A tibble: 2 × 3 #>   cohort_definition_id number_records number_subjects #>                  <int>          <dbl>           <dbl> #> 1                    1              7               4 #> 2                    2              2               1  cohortAttrition(cdm$drug_cohorts) #> # A tibble: 16 × 7 #>    cohort_definition_id number_records number_subjects reason_id reason          #>                   <int>          <dbl>           <dbl>     <dbl> <chr>           #>  1                    2              8               4         1 Qualifying ini… #>  2                    2              8               4         2 Duration imput… #>  3                    2              5               4         3 Join eras       #>  4                    2              2               1         4 daysPriorHisto… #>  5                    2              2               1         5 priorUseWashou… #>  6                    2              2               1         6 cohort_start_d… #>  7                    2              2               1         7 cohort_end_dat… #>  8                    2              2               1         8 summariseMode:… #>  9                    1             16               9         1 Qualifying ini… #> 10                    1             16               9         2 Duration imput… #> 11                    1             13               9         3 Join eras       #> 12                    1              7               4         4 daysPriorHisto… #> 13                    1              7               4         5 priorUseWashou… #> 14                    1              7               4         6 cohort_start_d… #> 15                    1              7               4         7 cohort_end_dat… #> 16                    1              7               4         8 summariseMode:… #> # ℹ 2 more variables: excluded_records <dbl>, excluded_subjects <dbl> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationColumns.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain automatically the indication columns — indicationColumns","title":"Obtain automatically the indication columns — indicationColumns","text":"Obtain automatically indication columns","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationColumns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain automatically the indication columns — indicationColumns","text":"","code":"indicationColumns(x)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationColumns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain automatically the indication columns — indicationColumns","text":"x Tibble","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationColumns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain automatically the indication columns — indicationColumns","text":"Name indication columns","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationColumns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Obtain automatically the indication columns — indicationColumns","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CodelistGenerator)  cdm <- mockDrugUtilisation() indications <- list(\"headache\" = 378253, \"asthma\" = 4214676) cdm <- generateConceptCohortSet(cdm, \"indication_cohorts\", indications) #> Warning: procedure_occurrence not found in the cdm object acetaminophen <- getDrugIngredientCodes(cdm, \"acetaminophen\") cdm <- generateDrugUtilisationCohortSet(cdm, \"drug_cohort\", acetaminophen) cdm$drug_cohort <- cdm$drug_cohort %>%   addIndication(cdm, \"indication_cohorts\", indicationGap = c(0, 30, 365))  indicationColumns(cdm$drug_cohort) #>  [1] \"indication_gap_0_headache\"   \"indication_gap_0_asthma\"     #>  [3] \"indication_gap_0_none\"       \"indication_gap_30_headache\"  #>  [5] \"indication_gap_30_asthma\"    \"indication_gap_30_none\"      #>  [7] \"indication_gap_365_headache\" \"indication_gap_365_asthma\"   #>  [9] \"indication_gap_365_none\"     \"indication_gap_0_unknown\"    #> [11] \"indication_gap_30_unknown\"   \"indication_gap_365_unknown\"  # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationToStrata.html","id":null,"dir":"Reference","previous_headings":"","what":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","title":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","text":"Create new variables summarising data indication can used stratification columns","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationToStrata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","text":"","code":"indicationToStrata(   cohort,   indicationVariables = indicationColumns(cohort),   keep = FALSE )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationToStrata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","text":"cohort cohort cdm indicationVariables Indication variables want join keep Whether keep prior indication variables ","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationToStrata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","text":"description cohort new variable","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/indicationToStrata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create new variables summarising the data of indication that can be used as\nstratification columns — indicationToStrata","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation() cdm$cohort1 <- cdm$cohort1 %>%   addIndication(cdm, \"cohort2\") %>%   indicationToStrata() # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/mockDrugUtilisation.html","id":null,"dir":"Reference","previous_headings":"","what":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","title":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","text":"creates mock database testing drugutilisation package","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/mockDrugUtilisation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","text":"","code":"mockDrugUtilisation(   connectionDetails = list(con = DBI::dbConnect(duckdb::duckdb(), \":memory:\"),     writeSchema = \"main\", writePrefix = NULL),   numberIndividuals = 10,   seed = 1,   concept = NULL,   concept_ancestor = NULL,   drug_strength = NULL,   person = NULL,   observation_period = NULL,   drug_exposure = NULL,   condition_occurrence = NULL,   observation = NULL,   extraTables = list(),   ... )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/mockDrugUtilisation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","text":"connectionDetails Details connection numberIndividuals Number individuals mock cdm seed Seed random numbers concept concept tibble, NULL mock one created concept_ancestor concept_ancestor tibble, NULL mock one created drug_strength drug_strength tibble, NULL mock one created person person tibble, NULL mock one created observation_period observation_period tibble, NULL mock one created drug_exposure drug_exposure tibble, NULL mock one created condition_occurrence condition_occurrence tibble, NULL mock one created observation observation tibble, NULL mock one created extraTables Extra tibbles instantiated cohorts cdm tables ... Cohorts can added cdm reference, cohort1 cohort2 created provided","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/mockDrugUtilisation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","text":"cdm reference mock tables","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/mockDrugUtilisation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"It creates a mock database for testing drugutilisation package — mockDrugUtilisation","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation()  cdm #> # OMOP CDM reference (tbl_duckdb_connection) #>  #> Tables: concept, concept_ancestor, drug_strength, person, observation_period, drug_exposure, condition_occurrence, visit_occurrence, observation, cohort1, cohort2 # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/patternTable.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a tibble with the patterns from current drug strength table — patternTable","title":"Function to create a tibble with the patterns from current drug strength table — patternTable","text":"Function create tibble patterns current drug strength table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/patternTable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a tibble with the patterns from current drug strength table — patternTable","text":"","code":"patternTable(cdm, recordCount = FALSE)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/patternTable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a tibble with the patterns from current drug strength table — patternTable","text":"cdm 'cdm' object created CDMConnector::cdm_from_con(). must must contain 'drug_strength' 'concept' tables. recordCount Whether number records per pattern computed","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/patternTable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a tibble with the patterns from current drug strength table — patternTable","text":"function creates tibble different patterns found table, plus column potentially valid invalid combinations.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/patternTable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a tibble with the patterns from current drug strength table — patternTable","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation()  patternTable(cdm) #> # A tibble: 6 × 13 #>   pattern_id validity          number_concepts number_ingredients amount_numeric #>        <dbl> <chr>                       <dbl>              <dbl>          <dbl> #> 1          4 valid                           6                  3              1 #> 2         NA no formula provi…               3                  3              0 #> 3         NA no formula provi…               1                  1              0 #> 4         NA no formula provi…               1                  1              0 #> 5         NA no formula provi…               1                  1              0 #> 6         NA no formula provi…               1                  1              0 #> # ℹ 8 more variables: amount_unit <chr>, amount_unit_concept_id <dbl>, #> #   numerator_numeric <dbl>, numerator_unit <chr>, #> #   numerator_unit_concept_id <dbl>, denominator_numeric <dbl>, #> #   denominator_unit <chr>, denominator_unit_concept_id <dbl> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/readConceptList.html","id":null,"dir":"Reference","previous_headings":"","what":"Get concept ids from a provided path to json files — readConceptList","title":"Get concept ids from a provided path to json files — readConceptList","text":"Get concept ids provided path json files","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/readConceptList.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get concept ids from a provided path to json files — readConceptList","text":"","code":"readConceptList(path, cdm)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/readConceptList.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get concept ids from a provided path to json files — readConceptList","text":"path path file folder containing jsons read cdm cdm reference created CDMConnector","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/readConceptList.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get concept ids from a provided path to json files — readConceptList","text":"list concept_ids respective concept_ids interest","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/readConceptList.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get concept ids from a provided path to json files — readConceptList","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation()  codelist <- readConceptList(   path = system.file(\"concepts\",package=\"DrugUtilisation\"), cdm = cdm ) # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/reportGenerator.html","id":null,"dir":"Reference","previous_headings":"","what":"Information that connects DrugUtilisation with ReportGenerator — reportGenerator","title":"Information that connects DrugUtilisation with ReportGenerator — reportGenerator","text":"Information connects DrugUtilisation ReportGenerator","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/reportGenerator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Information that connects DrugUtilisation with ReportGenerator — reportGenerator","text":"","code":"reportGenerator"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/reportGenerator.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Information that connects DrugUtilisation with ReportGenerator — reportGenerator","text":"List exported elements","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/reportGenerator.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Information that connects DrugUtilisation with ReportGenerator — reportGenerator","text":"","code":"reportGenerator #> $indication #> $indication$columnNames #> [1] \"cohort_name\"     \"strata_name\"     \"strata_level\"    \"indication_gap\"  #> [5] \"indication_name\" \"count\"           \"denominator\"     \"cdm_name\"        #> [9] \"generated_by\"    #>  #> $indication$columnType #> [1] \"chr\" \"chr\" \"chr\" \"dbl\" \"chr\" \"chr\" \"chr\" \"chr\" \"chr\" #>  #> $indication$functions #> [1] \"DrugUtilisation::displayIndication\" #>  #>"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/stratifyByUnit.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to stratify a conceptSetList by unit — stratifyByUnit","title":"Function to stratify a conceptSetList by unit — stratifyByUnit","text":"Function stratify conceptSetList unit","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/stratifyByUnit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to stratify a conceptSetList by unit — stratifyByUnit","text":"","code":"stratifyByUnit(conceptSetList, cdm, ingredientConceptId)"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/stratifyByUnit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to stratify a conceptSetList by unit — stratifyByUnit","text":"conceptSetList List concept sets cdm cdm reference ingredientConceptId ConceptId refers ingredient","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/stratifyByUnit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to stratify a conceptSetList by unit — stratifyByUnit","text":"conceptSetList stratified unit","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/stratifyByUnit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to stratify a conceptSetList by unit — stratifyByUnit","text":"","code":"# \\donttest{ library(DrugUtilisation) library(CodelistGenerator)  cdm <- mockDrugUtilisation()  codelist <- getDrugIngredientCodes(cdm, \"acetaminophen\")  codelistStratified <- stratifyByUnit(codelist, cdm, 1125315)  codelistStratified #> $`Ingredient: acetaminophen (1125315) unit: milligram` #> [1] 43135274  1125360 #>  # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseDrugUse.html","id":null,"dir":"Reference","previous_headings":"","what":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","title":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","text":"function used summarise dose table multiple cohorts.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseDrugUse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","text":"","code":"summariseDrugUse(   cohort,   cdm,   strata = list(),   drugUseVariables = drugUseColumns(cohort),   drugUseEstimates = c(\"mean\", \"q25\", \"q75\"),   minCellCount = 5 )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseDrugUse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","text":"cohort Cohort drug use variables strata cdm cdm_reference generated CDMConnector strata Stratification list drugUseVariables Name columns drug use variables drugUseEstimates Estimates want columns minCellCount number counts supressed","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseDrugUse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","text":"summary drug use stratified cohort_name strata_name","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseDrugUse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"This function is used to summarise the dose table over multiple cohorts. — summariseDrugUse","text":"","code":"# \\donttest{ library(DrugUtilisation) library(PatientProfiles) library(CodelistGenerator)  cdm <- mockDrugUtilisation() cdm <- generateDrugUtilisationCohortSet(   cdm, \"dus_cohort\", getDrugIngredientCodes(cdm, \"acetaminophen\") ) cdm$dus_cohort <- cdm$dus_cohort %>%   addDrugUse(cdm, 1125315) result <- summariseDrugUse(cdm$dus_cohort, cdm) print(result) #> # A tibble: 34 × 11 #>    group_name group_level strata_name strata_level variable       variable_level #>    <chr>      <chr>       <chr>       <chr>        <chr>          <chr>          #>  1 Overall    Overall     Overall     Overall      number subjec… NA             #>  2 Overall    Overall     Overall     Overall      number records NA             #>  3 Overall    Overall     Overall     Overall      cumulative_do… NA             #>  4 Overall    Overall     Overall     Overall      cumulative_do… NA             #>  5 Overall    Overall     Overall     Overall      cumulative_do… NA             #>  6 Overall    Overall     Overall     Overall      duration       NA             #>  7 Overall    Overall     Overall     Overall      duration       NA             #>  8 Overall    Overall     Overall     Overall      duration       NA             #>  9 Overall    Overall     Overall     Overall      initial_daily… NA             #> 10 Overall    Overall     Overall     Overall      initial_daily… NA             #> # ℹ 24 more rows #> # ℹ 5 more variables: variable_type <chr>, estimate_type <chr>, estimate <chr>, #> #   cdm_name <chr>, generated_by <chr>  cdm$dus_cohort <- cdm$dus_cohort %>%   addSex(cdm) %>%   addAge(cdm, ageGroup = list(\"<40\" = c(0, 30), \">40\" = c(40, 150))) #> Warning: sex already exists in x, it was renamed to sex_1 result <- summariseDrugUse(   cdm$dus_cohort, cdm, strata = list(     \"Age\" = \"age_group\", \"Sex\" = \"sex\", \"Age & sex\" = c(\"age_group\", \"sex\")   ) ) print(result) #> # A tibble: 340 × 11 #>    group_name group_level strata_name strata_level variable       variable_level #>    <chr>      <chr>       <chr>       <chr>        <chr>          <chr>          #>  1 Overall    Overall     Age         <40          number subjec… NA             #>  2 Overall    Overall     Age         <40          number records NA             #>  3 Overall    Overall     Age         <40          cumulative_do… NA             #>  4 Overall    Overall     Age         <40          cumulative_do… NA             #>  5 Overall    Overall     Age         <40          cumulative_do… NA             #>  6 Overall    Overall     Age         <40          duration       NA             #>  7 Overall    Overall     Age         <40          duration       NA             #>  8 Overall    Overall     Age         <40          duration       NA             #>  9 Overall    Overall     Age         <40          initial_daily… NA             #> 10 Overall    Overall     Age         <40          initial_daily… NA             #> # ℹ 330 more rows #> # ℹ 5 more variables: variable_type <chr>, estimate_type <chr>, estimate <chr>, #> #   cdm_name <chr>, generated_by <chr> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseIndication.html","id":null,"dir":"Reference","previous_headings":"","what":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","title":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","text":"function used summarise indication table multiple cohorts.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseIndication.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","text":"","code":"summariseIndication(   cohort,   cdm,   strata = list(),   indicationVariables = indicationColumns(cohort),   minCellCount = 1 )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseIndication.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","text":"cohort Cohort indications strata cdm cdm_reference created CDMConnector strata Stratification list indicationVariables Variables point indication column minCellCount Minimum counts group can . Cohorts less counts value obscured. default: 5.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseIndication.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","text":"Tibble 4 columns: cohort_definition_id, variable, estimate value. one row cohort, variable cohort combination.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseIndication.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"This function is used to summarise the indication table over multiple\ncohorts. — summariseIndication","text":"","code":"# \\donttest{ library(DrugUtilisation) library(PatientProfiles) library(CodelistGenerator)  cdm <- mockDrugUtilisation() indications <- list(\"headache\" = 378253, \"asthma\" = 317009) cdm <- generateConceptCohortSet(cdm, \"indication_cohorts\", indications) acetaminophen <- getDrugIngredientCodes(cdm, \"acetaminophen\") cdm <- generateDrugUtilisationCohortSet(cdm, \"drug_cohort\", acetaminophen) cdm$drug_cohort <- cdm$drug_cohort %>%   addIndication(cdm, \"indication_cohorts\", indicationGap = c(0, 30, 365))  summariseIndication(cdm$drug_cohort, cdm) #> # A tibble: 52 × 11 #>    group_name group_level strata_name strata_level variable       variable_level #>    <chr>      <chr>       <chr>       <chr>        <chr>          <chr>          #>  1 Overall    Overall     Overall     Overall      number subjec… NA             #>  2 Overall    Overall     Overall     Overall      number records NA             #>  3 Overall    Overall     Overall     Overall      indication_ga… NA             #>  4 Overall    Overall     Overall     Overall      indication_ga… NA             #>  5 Overall    Overall     Overall     Overall      indication_ga… NA             #>  6 Overall    Overall     Overall     Overall      indication_ga… NA             #>  7 Overall    Overall     Overall     Overall      indication_ga… NA             #>  8 Overall    Overall     Overall     Overall      indication_ga… NA             #>  9 Overall    Overall     Overall     Overall      indication_ga… NA             #> 10 Overall    Overall     Overall     Overall      indication_ga… NA             #> # ℹ 42 more rows #> # ℹ 5 more variables: variable_type <chr>, estimate_type <chr>, estimate <chr>, #> #   cdm_name <chr>, generated_by <chr>  cdm$drug_cohort <- cdm$drug_cohort %>%   addAge(cdm, ageGroup = list(\"<40\" = c(0, 39), \">=40\" = c(40, 150))) %>%   addSex(cdm)  summariseIndication(cdm$drug_cohort, cdm, strata = list(   \"Age\" = \"age_group\", \"Age & Sex\" = c(\"age_group\", \"sex\") )) #> # A tibble: 312 × 11 #>    group_name group_level strata_name strata_level variable       variable_level #>    <chr>      <chr>       <chr>       <chr>        <chr>          <chr>          #>  1 Overall    Overall     Age         <40          number subjec… NA             #>  2 Overall    Overall     Age         <40          number records NA             #>  3 Overall    Overall     Age         <40          indication_ga… NA             #>  4 Overall    Overall     Age         <40          indication_ga… NA             #>  5 Overall    Overall     Age         <40          indication_ga… NA             #>  6 Overall    Overall     Age         <40          indication_ga… NA             #>  7 Overall    Overall     Age         <40          indication_ga… NA             #>  8 Overall    Overall     Age         <40          indication_ga… NA             #>  9 Overall    Overall     Age         <40          indication_ga… NA             #> 10 Overall    Overall     Age         <40          indication_ga… NA             #> # ℹ 302 more rows #> # ℹ 5 more variables: variable_type <chr>, estimate_type <chr>, estimate <chr>, #> #   cdm_name <chr>, generated_by <chr> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseLargeScaleCharacteristics.html","id":null,"dir":"Reference","previous_headings":"","what":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","title":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","text":"function used summarise lasrge scale characteristics cohort table","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseLargeScaleCharacteristics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","text":"","code":"summariseLargeScaleCharacteristics(   cohort,   cdm,   window = list(c(-Inf, -366), c(-365, -91), c(-365, -31), c(-90, -1), c(-30, -1), c(0,     0), c(1, 30), c(1, 90), c(31, 365), c(91, 365), c(366, Inf)),   tablesToCharacterize = c(\"condition_occurrence\", \"drug_era\", \"procedure_occurrence\",     \"measurement\"),   overlap = TRUE,   minCellCount = 5 )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseLargeScaleCharacteristics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","text":"cohort cohort cdm 'cdm' object created CDMConnector::cdm_from_con(). must must contain 'targetCohort' table tables want characterize. compulsory input, default value provided. window Temporal windows want characterize. must list numeric vectors length two. tables characterized first element second element respect cohort_start_date individual. refer time prior set NA first element vector. refer time index date set NA second element vector. default: list(c(NA, -366), c(-365, -90), c(-365, -31), c(-90, -1), c(-30, -1), c(0, 0), c(1, 30), c(1, 90), c(31, 365), c(91, 365), c(366, NA)). tablesToCharacterize Name tables cdm want summarize. available tables characterize : \"visit_occurrence\", \"condition_occurrence\", \"drug_exposure\", \"procedure_occurrence\", \"device_exposure\", \"measurement\", \"observation\", \"drug_era\", \"condition_era\" \"specimen\". default: c(\"condition_occurrence\", \"drug_era\", \"procedure_occurrence\", \"measurement\"). overlap Whether want consider overlapping events (overlap = TRUE) incident ones (overlap = FALSE). minCellCount counts lower minimumCellCount obscured changing value NA. 'obscured' column characterization tibble TRUE count obscured. Otherwise FALSE.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseLargeScaleCharacteristics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","text":"output function 3 elements list. First (\"Characterization\") reference temporal table database. contains characterization desired cohorts interest. cohorts interest specified using 'targetCohortId' 'targetCohortName'. characterized tables ones specified 'tablesToChacaterize'. Second (\"temporalWindow\") contains windows used characaterization. Finally \"overlap\" also included list.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseLargeScaleCharacteristics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"This function is used to summarise the lasrge scale characteristics of a\ncohort table — summariseLargeScaleCharacteristics","text":"","code":"# \\donttest{ library(DrugUtilisation)  cdm <- mockDrugUtilisation()  summariseLargeScaleCharacteristics(   cohort = cdm$cohort1, cdm = cdm,   tablesToCharacterize= c(\"drug_exposure\", \"condition_occurrence\") ) #> # A tibble: 131 × 12 #>    cohort_name strata_name strata_level table_name        window_name concept_id #>    <chr>       <chr>       <chr>        <chr>             <chr>            <dbl> #>  1 cohort_1    overall     NA           condition_occurr… -inf to -3…     317009 #>  2 cohort_1    overall     NA           condition_occurr… -90 to -1       378253 #>  3 cohort_1    overall     NA           condition_occurr… -30 to -1       378253 #>  4 cohort_1    overall     NA           condition_occurr… 1 to 30         378253 #>  5 cohort_1    overall     NA           condition_occurr… 1 to 90         378253 #>  6 cohort_1    overall     NA           condition_occurr… 31 to 365       378253 #>  7 cohort_1    overall     NA           condition_occurr… 91 to 365       378253 #>  8 cohort_1    overall     NA           condition_occurr… 366 to inf      317009 #>  9 cohort_1    overall     NA           drug_exposure     -inf to -3…    1125360 #> 10 cohort_1    overall     NA           drug_exposure     -365 to -91    1125360 #> # ℹ 121 more rows #> # ℹ 6 more variables: concept_name <chr>, count <chr>, denominator_count <chr>, #> #   `%` <dbl>, cdm_name <chr>, generated_by <chr> # }"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseTableOne.html","id":null,"dir":"Reference","previous_headings":"","what":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","title":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","text":"function used summarise dose /indication multiple cohorts.","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseTableOne.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","text":"","code":"summariseTableOne(   cohort,   cdm,   strata = list(),   ageGroup = NULL,   windowVisitOcurrence = NULL,   covariates = list(),   minCellCount = 5 )"},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseTableOne.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","text":"cohort cohort cdm cdm cdm_reference created CDMConnector strata Stratification list ageGroup list age groups. windowVisitOcurrence Window count visit occurrences. covariates Named list windows check covariates. name must point cohortTableName cdm. minCellCount minimum counts due obscure","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseTableOne.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","text":"summary characteristics individuals","code":""},{"path":"https://darwin-eu-dev.github.io/DrugUtilisation/reference/summariseTableOne.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"This function is used to summarise the dose and/or indication over multiple\ncohorts. — summariseTableOne","text":"","code":"# \\donttest{ library(DrugUtilisation) cdm <- mockDrugUtilisation(numberIndividuals = 100) summariseTableOne(   cdm$cohort1,   cdm,   ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150)),   windowVisitOcurrence = c(-180, 0) ) #> # A tibble: 128 × 11 #>    group_name group_level strata_name strata_level variable       variable_level #>    <chr>      <chr>       <chr>       <chr>        <chr>          <chr>          #>  1 Overall    Overall     Overall     Overall      number subjec… NA             #>  2 Overall    Overall     Overall     Overall      number records NA             #>  3 Overall    Overall     Overall     Overall      age            NA             #>  4 Overall    Overall     Overall     Overall      age            NA             #>  5 Overall    Overall     Overall     Overall      age            NA             #>  6 Overall    Overall     Overall     Overall      future_observ… NA             #>  7 Overall    Overall     Overall     Overall      future_observ… NA             #>  8 Overall    Overall     Overall     Overall      future_observ… NA             #>  9 Overall    Overall     Overall     Overall      prior_history  NA             #> 10 Overall    Overall     Overall     Overall      prior_history  NA             #> # ℹ 118 more rows #> # ℹ 5 more variables: variable_type <chr>, estimate_type <chr>, estimate <chr>, #> #   cdm_name <chr>, generated_by <chr> # }"}]
